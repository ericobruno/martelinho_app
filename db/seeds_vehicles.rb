# Seeds para Marcas e Modelos de Ve√≠culos

vehicle_data = [
    {
        "marca": "Abarth",
        "modelo": "Pulse Abarth"
    },
    {
        "marca": "Abarth",
        "modelo": "Fastback Abarth"
    },
    {
        "marca": "Chery",
        "modelo": "Celer"
    },
    {
        "marca": "Chery",
        "modelo": "QQ"
    },
    {
        "marca": "Chery",
        "modelo": "iCar"
    },
    {
        "marca": "Chevrolet",
        "modelo": "Camaro"
    },
    {
        "marca": "Chevrolet",
        "modelo": "Silverado"
    },
    {
        "marca": "Chevrolet",
        "modelo": "Spin"
    },
    {
        "marca": "Chevrolet",
        "modelo": "Onix"
    },
    {
        "marca": "Chevrolet",
        "modelo": "Prisma"
    },
    {
        "marca": "Chevrolet",
        "modelo": "Celta"
    },
    {
        "marca": "Chevrolet",
        "modelo": "Classic"
    },
    {
        "marca": "Chevrolet",
        "modelo": "Agile"
    },
    {
        "marca": "Chevrolet",
        "modelo": "Cruze"
    },
    {
        "marca": "Chevrolet",
        "modelo": "Tracker"
    },
    {
        "marca": "Chevrolet",
        "modelo": "Montana"
    },
    {
        "marca": "Chevrolet",
        "modelo": "Zafira"
    },
    {
        "marca": "Chevrolet",
        "modelo": "Meriva"
    },
    {
        "marca": "Chevrolet",
        "modelo": "Vectra"
    },
    {
        "marca": "Chevrolet",
        "modelo": "Astra"
    },
    {
        "marca": "Chevrolet",
        "modelo": "Kadett"
    },
    {
        "marca": "Chevrolet",
        "modelo": "Monza"
    },
    {
        "marca": "Chevrolet",
        "modelo": "Opala"
    },
    {
        "marca": "Chevrolet",
        "modelo": "Caravan"
    },
    {
        "marca": "Chevrolet",
        "modelo": "Bonanza"
    },
    {
        "marca": "Chevrolet",
        "modelo": "Veraneio"
    },
    {
        "marca": "Chevrolet",
        "modelo": "Corsa"
    },
    {
        "marca": "Chevrolet",
        "modelo": "Omega"
    },
    {
        "marca": "Fiat",
        "modelo": "Toro"
    },
    {
        "marca": "Fiat",
        "modelo": "Uno"
    },
    {
        "marca": "Fiat",
        "modelo": "Palio"
    },
    {
        "marca": "Fiat",
        "modelo": "Siena"
    },
    {
        "marca": "Fiat",
        "modelo": "Strada"
    },
    {
        "marca": "Fiat",
        "modelo": "Argo"
    },
    {
        "marca": "Fiat",
        "modelo": "Cronos"
    },
    {
        "marca": "Fiat",
        "modelo": "Mobi"
    },
    {
        "marca": "Fiat",
        "modelo": "Pulse"
    },
    {
        "marca": "Fiat",
        "modelo": "Fastback"
    },
    {
        "marca": "Fiat",
        "modelo": "Fiorino"
    },
    {
        "marca": "Fiat",
        "modelo": "Ducato"
    },
    {
        "marca": "Fiat",
        "modelo": "Doblo"
    },
    {
        "marca": "Fiat",
        "modelo": "Idea"
    },
    {
        "marca": "Fiat",
        "modelo": "Linea"
    },
    {
        "marca": "Fiat",
        "modelo": "Bravo"
    },
    {
        "marca": "Fiat",
        "modelo": "Freemont"
    },
    {
        "marca": "Fiat",
        "modelo": "Grand Siena"
    },
    {
        "marca": "Fiat",
        "modelo": "Tempra"
    },
    {
        "marca": "Fiat",
        "modelo": "Tipo"
    },
    {
        "marca": "Fiat",
        "modelo": "Marea"
    },
    {
        "marca": "Fiat",
        "modelo": "Stilo"
    },
    {
        "marca": "Fiat",
        "modelo": "Punto"
    },
    {
        "marca": "Fiat",
        "modelo": "Premio"
    },
    {
        "marca": "Ford",
        "modelo": "EcoSport"
    },
    {
        "marca": "Ford",
        "modelo": "Fiesta"
    },
    {
        "marca": "Ford",
        "modelo": "Focus"
    },
    {
        "marca": "Ford",
        "modelo": "Ranger"
    },
    {
        "marca": "Ford",
        "modelo": "Territory"
    },
    {
        "marca": "Ford",
        "modelo": "Ka"
    },
    {
        "marca": "Ford",
        "modelo": "Courier"
    },
    {
        "marca": "Ford",
        "modelo": "Maverick"
    },
    {
        "marca": "Ford",
        "modelo": "Escort"
    },
    {
        "marca": "Jeep",
        "modelo": "Wrangler"
    },
    {
        "marca": "Jeep",
        "modelo": "Grand Cherokee"
    },
    {
        "marca": "Jeep",
        "modelo": "Renegade"
    },
    {
        "marca": "Jeep",
        "modelo": "Compass"
    },
    {
        "marca": "Jeep",
        "modelo": "Gladiator"
    },
    {
        "marca": "Jeep",
        "modelo": "Cherokee"
    },
    {
        "marca": "Kia",
        "modelo": "Picanto"
    },
    {
        "marca": "Kia",
        "modelo": "Cadenza"
    },
    {
        "marca": "Kia",
        "modelo": "Cerato"
    },
    {
        "marca": "Kia",
        "modelo": "Sportage"
    },
    {
        "marca": "Kia",
        "modelo": "Sorento"
    },
    {
        "marca": "Kia",
        "modelo": "Carnival"
    },
    {
        "marca": "Kia",
        "modelo": "Bongo"
    },
    {
        "marca": "Kia",
        "modelo": "Mohave"
    },
    {
        "marca": "Kia",
        "modelo": "Rio"
    },
    {
        "marca": "Renault",
        "modelo": "Kwid"
    },
    {
        "marca": "Renault",
        "modelo": "Sandero"
    },
    {
        "marca": "Renault",
        "modelo": "Duster"
    },
    {
        "marca": "Renault",
        "modelo": "Logan"
    },
    {
        "marca": "Renault",
        "modelo": "Captur"
    },
    {
        "marca": "Renault",
        "modelo": "Clio"
    },
    {
        "marca": "Renault",
        "modelo": "M√©gane"
    },
    {
        "marca": "Renault",
        "modelo": "Scenic"
    },
    {
        "marca": "Renault",
        "modelo": "Zoe"
    },
    {
        "marca": "Toyota",
        "modelo": "Corolla"
    },
    {
        "marca": "Toyota",
        "modelo": "Hilux"
    },
    {
        "marca": "Toyota",
        "modelo": "Yaris"
    },
    {
        "marca": "Volkswagen",
        "modelo": "Gol"
    },
    {
        "marca": "Volkswagen",
        "modelo": "Voyage"
    },
    {
        "marca": "Volkswagen",
        "modelo": "Saveiro"
    },
    {
        "marca": "Volkswagen",
        "modelo": "Parati"
    },
    {
        "marca": "Volkswagen",
        "modelo": "Santana"
    },
    {
        "marca": "Volkswagen",
        "modelo": "Quantum"
    },
    {
        "marca": "Volkswagen",
        "modelo": "Fox"
    },
    {
        "marca": "Volkswagen",
        "modelo": "Polo"
    },
    {
        "marca": "Volkswagen",
        "modelo": "Virtus"
    },
    {
        "marca": "Volkswagen",
        "modelo": "T-Cross"
    },
    {
        "marca": "Volkswagen",
        "modelo": "Nivus"
    },
    {
        "marca": "Volkswagen",
        "modelo": "Taos"
    },
    {
        "marca": "Volkswagen",
        "modelo": "Amarok"
    },
    {
        "marca": "Volkswagen",
        "modelo": "Kombi"
    },
    {
        "marca": "Volkswagen",
        "modelo": "Apollo"
    },
    {
        "marca": "Volkswagen",
        "modelo": "Logus"
    },
    {
        "marca": "Volkswagen",
        "modelo": "Pointer"
    },
    {
        "marca": "Volkswagen",
        "modelo": "Golf"
    },
    {
        "marca": "Volkswagen",
        "modelo": "Bora"
    },
    {
        "marca": "Volkswagen",
        "modelo": "Jetta"
    },
    {
        "marca": "Volkswagen",
        "modelo": "Tiguan"
    },
    {
        "marca": "Volkswagen",
        "modelo": "Up!"
    },
    {
        "marca": "Volkswagen",
        "modelo": "ID. Buzz"
    },
    {
        "marca": "Volkswagen",
        "modelo": "ID. Space Vizzion"
    },
    {
        "marca": "Audi",
        "modelo": "TT"
    },
    {
        "marca": "Mercedes-Benz",
        "modelo": "Classe C"
    },
    {
        "marca": "Mercedes-Benz",
        "modelo": "Classe E"
    },
    {
        "marca": "Mercedes-Benz",
        "modelo": "Classe S"
    },
    {
        "marca": "Mercedes-Benz",
        "modelo": "GLA"
    },
    {
        "marca": "Mercedes-Benz",
        "modelo": "GLC"
    },
    {
        "marca": "Mercedes-Benz",
        "modelo": "GLE"
    },
    {
        "marca": "Mercedes-Benz",
        "modelo": "Sprinter"
    },
    {
        "marca": "Hyundai",
        "modelo": "Creta"
    },
    {
        "marca": "Hyundai",
        "modelo": "Tucson"
    },
    {
        "marca": "Hyundai",
        "modelo": "Santa Fe"
    },
    {
        "marca": "Hyundai",
        "modelo": "Azera"
    },
    {
        "marca": "Honda",
        "modelo": "Civic"
    },
    {
        "marca": "Honda",
        "modelo": "Fit"
    },
    {
        "marca": "Honda",
        "modelo": "HR-V"
    },
    {
        "marca": "Honda",
        "modelo": "City"
    },
    {
        "marca": "Honda",
        "modelo": "CR-V"
    },
    {
        "marca": "Mitsubishi",
        "modelo": "Pajero"
    },
    {
        "marca": "Mitsubishi",
        "modelo": "Outlander"
    },
    {
        "marca": "Nissan",
        "modelo": "Frontier"
    },
    {
        "marca": "Nissan",
        "modelo": "Kicks"
    },
    {
        "marca": "Nissan",
        "modelo": "Versa"
    },
    {
        "marca": "Nissan",
        "modelo": "Sentra"
    }
]

puts "üöó Populando marcas e modelos de ve√≠culos..."

# Processa os dados e filtra marcas vazias
valid_data = vehicle_data.reject { |item| item["marca"].blank? }

# Agrupa por marca
brands_with_models = valid_data.group_by { |item| item["marca"] }

brands_with_models.each do |brand_name, models|
  # Cria ou encontra a marca
  brand = VehicleBrand.find_or_create_by(name: brand_name) do |b|
    b.active = true
  end
  
  puts "  üìç Marca: #{brand_name}"
  
  # Cria os modelos para a marca
  models.each do |model_data|
    model_name = model_data["modelo"]
    
    # Remove o nome da marca do in√≠cio do modelo se estiver duplicado
    clean_model_name = model_name.gsub(/^#{Regexp.escape(brand_name)}\s+/i, "")
    
    model = VehicleModel.find_or_create_by(
      name: clean_model_name,
      vehicle_brand: brand
    ) do |m|
      m.active = true
    end
    
    print "    ‚úì #{clean_model_name}"
    puts model.persisted? ? "" : " (j√° existe)"
  end
  
  puts ""
end

puts "‚úÖ Finalizado! Total de marcas: #{VehicleBrand.count}, Total de modelos: #{VehicleModel.count}" 